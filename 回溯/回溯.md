回溯算法

# 1. 基本
回溯法可以看做是暴力法的升级版。

它解决问题每一步的所有可能选项系统地选择出一个可行的方案。

回溯法非常适合由多个步骤组成的问题，并且每个步骤都有多个选项。当我们在某一个步骤选择了其中一个选项时，就进入下一步，然后有面临新的选择。我们就这样重复选择，直至到达最终的状态。

用回溯法解决的问题的所有选项可以形象地用树状结构表示。在某一部有 n 个可能的选项，那么该步骤可以看做是树状结构中的一个节点，每个选项看成树中节点连接线，经过这些连接线到达节点的 n 个子节点。树的叶节点对应着终结状态。如果在叶节点的状态满足题目的约束条件，那么我们找到了一个可行的解决方案。

如果在叶节点的状态不满足约束条件，那么只会回溯到它的上一个节点再尝试选择其他的选项。如果上一个节点所有可能的选项都已经试过，并且不能到达满足约束条件的终结状态，则再次回溯到上一个节点。如果所有节点的选型都已经尝试过仍然不能达到满足约束条件的终结状态，则垓问题无解。

---《剑指 Offer》

# 2. 算法模板

```java
void backtracking(参数){
    if(终止条件){
        存放结果；
        return;
    }
    
    for(选择：本层集合中元素（树中节点孩子的数量就是集合的大小）){
        处理节点；
        backtracking(路径，选择列表)； // 递归
        回溯，撤销处理结果
    }
}
```

优化：
剪枝



# 3. 回溯算法解决的问题
- 组合问题： N 个数里按一定规则找出 K 个数的集合
- 切割问题： 一个字符串按一定规则有几种切割方式
- 子集问题： 一个 N 个数的集合里有多少符号条件的子集
- 排列问题： N 个数按一定规则全排列，有几种排列方式
- 棋盘问题： N 皇后，解数独等

